steps:
  - name: Checkout repository
    uses: actions/checkout@v4

  - name: Set up SSH agent for BALAM cluster access
    uses: webfactory/ssh-agent@v0.9.0
    with:
      ssh-private-key: ${{ secrets.CCDB_SSH_PRIVATE_KEY }}

  - name: Set up Python
    uses: actions/setup-python@v5
    with:
      python-version: "3.13"

  - name: Install package dependencies
    run: |
      pip install -e .
      pip install submitit cloudpickle